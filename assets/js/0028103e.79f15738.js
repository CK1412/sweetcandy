"use strict";(self.webpackChunksweetcandy=self.webpackChunksweetcandy||[]).push([[8243],{3905:(t,e,n)=>{n.d(e,{Zo:()=>u,kt:()=>p});var r=n(7294);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,r,l=function(t,e){if(null==t)return{};var n,r,l={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(l[n]=t[n]);return l}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}var s=r.createContext({}),c=function(t){var e=r.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):a(a({},e),t)),n},u=function(t){var e=c(t.components);return r.createElement(s.Provider,{value:e},t.children)},d="mdxType",h={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},g=r.forwardRef((function(t,e){var n=t.components,l=t.mdxType,i=t.originalType,s=t.parentName,u=o(t,["components","mdxType","originalType","parentName"]),d=c(n),g=l,p=d["".concat(s,".").concat(g)]||d[g]||h[g]||i;return n?r.createElement(p,a(a({ref:e},u),{},{components:n})):r.createElement(p,a({ref:e},u))}));function p(t,e){var n=arguments,l=e&&e.mdxType;if("string"==typeof t||l){var i=n.length,a=new Array(i);a[0]=g;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=t,o[d]="string"==typeof t?t:l,a[1]=o;for(var c=2;c<i;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}g.displayName="MDXCreateElement"},137:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>s,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var r=n(7462),l=(n(7294),n(3905));const i={sidebar_position:2,title:"Throttle"},a="Throttle",o={unversionedId:"flutter_dart/utils/operators/throttle",id:"flutter_dart/utils/operators/throttle",title:"Throttle",description:"Throttle l\xe0 g\xec?",source:"@site/docs/flutter_dart/utils/operators/throttle.mdx",sourceDirName:"flutter_dart/utils/operators",slug:"/flutter_dart/utils/operators/throttle",permalink:"/sweetcandy/docs/flutter_dart/utils/operators/throttle",draft:!1,editUrl:"https://github.com/CK1412/sweetcandy/tree/main/docs/flutter_dart/utils/operators/throttle.mdx",tags:[],version:"current",lastUpdatedBy:"canhth",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Throttle"},sidebar:"flutterDart",previous:{title:"Debounce",permalink:"/sweetcandy/docs/flutter_dart/utils/operators/debounce"},next:{title:"Useful",permalink:"/sweetcandy/docs/category/useful"}},s={},c=[{value:"Throttle l\xe0 g\xec?",id:"throttle-l\xe0-g\xec",level:2},{value:"V\xed d\u1ee5",id:"v\xed-d\u1ee5",level:2},{value:"\u1ee8ng d\u1ee5ng",id:"\u1ee9ng-d\u1ee5ng",level:2},{value:"Code tri\u1ec3n khai",id:"code-tri\u1ec3n-khai",level:2},{value:"C\xe1ch s\u1eed d\u1ee5ng",id:"c\xe1ch-s\u1eed-d\u1ee5ng",level:2}],u={toc:c},d="wrapper";function h(t){let{components:e,...n}=t;return(0,l.kt)(d,(0,r.Z)({},u,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"throttle"},"Throttle"),(0,l.kt)("h2",{id:"throttle-l\xe0-g\xec"},"Throttle l\xe0 g\xec?"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Throttle l\xe0 m\u1ed9t k\u1ef9 thu\u1eadt gi\xfap gi\u1edbi h\u1ea1n s\u1ed1 l\u1ea7n g\u1ecdi h\xe0m trong m\u1ed9t kho\u1ea3ng th\u1eddi gian.\nV\xed d\u1ee5 khi m\u1ed9t h\xe0m d\xf9ng Throttle, Throttle s\u1ebd g\u1ecdi h\xe0m n\xe0y nhi\u1ec1u nh\u1ea5t 1 l\u1ea7n trong m\u1ed9t \u0111\u01a1n v\u1ecb th\u1eddi gian.")),(0,l.kt)("h2",{id:"v\xed-d\u1ee5"},"V\xed d\u1ee5"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Khi ta cu\u1ed9n m\u1ed9t danh s\xe1ch v\xe0 c\xf3 ",(0,l.kt)("strong",{parentName:"li"},"h\xe0m F")," \u0111\u1ec3 l\u1eafng nghe s\u1ef1 thay \u0111\u1ed5i.",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Th\xf4ng th\u01b0\u1eddng trong 10 gi\xe2y, h\xe0m F s\u1ebd \u0111\u01b0\u1ee3c g\u1ecdi ",(0,l.kt)("strong",{parentName:"li"},"100 l\u1ea7n"),"."),(0,l.kt)("li",{parentName:"ul"},"S\u1eed d\u1ee5ng Throttle v\u1edbi th\u1eddi gian \u0111\u1eb7t l\xe0 1 gi\xe2y, h\xe0m F s\u1ebd ch\u1ec9 c\xf2n \u0111\u01b0\u1ee3c g\u1ecdi ",(0,l.kt)("strong",{parentName:"li"},"10 l\u1ea7n trong 10 gi\xe2y"),".")))),(0,l.kt)("h2",{id:"\u1ee9ng-d\u1ee5ng"},"\u1ee8ng d\u1ee5ng"),(0,l.kt)("p",null,"Throttle c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng trong m\u1ed9t s\u1ed1 tr\u01b0\u1eddng h\u1ee3p sau:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"L\u1eafng nghe c\xe1c s\u1ef1 ki\u1ec7n th\u1eddi gian th\u1ef1c"),": V\xed d\u1ee5 nh\u01b0 l\u1eafng nghe v\u1ecb tr\xed ng\u01b0\u1eddi d\xf9ng qua Google Map -> tr\xe1nh vi\u1ec7c c\u1eadp nh\u1eadt d\u1eef li\u1ec7u\nli\xean t\u1ee5c l\xe0m \u1ea3nh h\u01b0\u1edfng \u0111\u1ebfn tr\u1ea3i nghi\u1ec7m ng\u01b0\u1eddi d\xf9ng v\xe0 hi\u1ec7u su\u1ea5t \u1ee9ng d\u1ee5ng."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"X\u1eed l\xfd s\u1ef1 ki\u1ec7n cu\u1ed9n (scroll event)"),": khi ta cu\u1ed9n m\u1ed9t danh s\xe1ch, Throttle c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 ki\u1ec3m so\xe1t t\u1ea7n su\u1ea5t x\u1eed l\xfd s\u1ef1\nki\u1ec7n cu\u1ed9n -> tr\xe1nh vi\u1ec7c x\u1eed l\xfd nhi\u1ec1u l\u1ea7n v\xe0 gi\u1ea3m t\u1ea3i cho CPU."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"G\u1eedi d\u1eef li\u1ec7u l\xean m\xe1y ch\u1ee7"),": Khi ng\u01b0\u1eddi d\xf9ng t\u01b0\u01a1ng t\xe1c v\u1edbi \u1ee9ng d\u1ee5ng, Throttle c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 ki\u1ec3m so\xe1t t\u1ea7n su\u1ea5t\ng\u1eedi d\u1eef li\u1ec7u l\xean m\xe1y ch\u1ee7, v\xed d\u1ee5: trong tr\u01b0\u1eddng h\u1ee3p g\u1eedi d\u1eef li\u1ec7u bi\u1ec3u m\u1eabu.")),(0,l.kt)("h2",{id:"code-tri\u1ec3n-khai"},"Code tri\u1ec3n khai"),(0,l.kt)("p",null,"T\u1ea1o m\u1ed9t class tri\u1ec3n khai Throttle:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart",metastring:'title="lib/utils/operators/throttle.dart"',title:'"lib/utils/operators/throttle.dart"'},"import 'dart:async';\n\nimport 'package:flutter/material.dart';\n\nclass Throttle {\n  final Duration duration;\n\n  bool _isThrottling = false;\n  Timer? _timer;\n\n  Throttle({\n    this.duration = const Duration(milliseconds: 500),\n  });\n\n  void run(VoidCallback action) {\n    if (!_isThrottling) {\n      _isThrottling = true;\n\n      action.call();\n\n      _timer = Timer(duration, () {\n        _isThrottling = false;\n      });\n    }\n  }\n\n  void dispose() {\n    _timer?.cancel();\n    _timer = null;\n  }\n}\n")),(0,l.kt)("h2",{id:"c\xe1ch-s\u1eed-d\u1ee5ng"},"C\xe1ch s\u1eed d\u1ee5ng"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"import 'package:flutter/material.dart';\n\nimport 'throttle.dart';\n\nclass SearchField extends StatefulWidget {\n  const SearchField({super.key});\n\n  @override\n  State<SearchField> createState() => _SearchField();\n}\n\nclass _SearchField extends State<SearchField> {\n  // highlight-next-line\n  final _throttle = Throttle();\n\n  @override\n  void dispose() {\n    // highlight-next-line\n    _throttle.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return TextField(\n      onChanged: (value) {\n        // highlight-start\n        _throttle.run(() {\n          // Do something\n        });\n        // highlight-end\n      },\n    );\n  }\n}\n")))}h.isMDXComponent=!0}}]);